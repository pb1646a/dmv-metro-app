
<div>
  <div *ngIf="($$routes|async).length<=0">
      <mat-spinner></mat-spinner>
  </div>
<mat-accordion *ngIf="($$routes|async).length>0">
  <mat-expansion-panel *ngFor="let route of ($$routes|async)|slice:lowerLimit:higherLimit; let i= index" (opened)="onOpened(route.RouteID)">
    <mat-expansion-panel-header >
      <mat-panel-title>
       {{route.RouteID}}
      </mat-panel-title>
      <mat-panel-description>
        {{route.Name}}
      </mat-panel-description>
    </mat-expansion-panel-header>
    <div>
    <div>
      <mat-tab-group>
        <mat-tab label="{{($$routeDetails|async)?.Direction0.DirectionText}} TO {{($$routeDetails|async)?.Direction0.TripHeadsign}}">
            <ul *ngFor="let stops of ($$routeDetails|async)?.Direction0.Stops" [style.display]="'flex'">
                <button mat-icon-button (click)="onAddFav(stops)"><mat-icon>favorite </mat-icon></button>
                <li>Stop: {{stops.StopID}} - {{stops.Name}}</li>

               </ul>
        </mat-tab>
        <mat-tab label="{{($$routeDetails|async)?.Direction1.DirectionText}} TO {{($$routeDetails|async)?.Direction1.TripHeadsign}}">
            <ul *ngFor="let stops of ($$routeDetails|async)?.Direction1.Stops"  [style.display]="'flex'">
                <button mat-icon-button (click)="onAddFav(stops)"><mat-icon>favorite </mat-icon></button>
                <li>Stop: {{stops.StopID}} - {{stops.Name}}</li>
              <!--  <li>Position: {{stops.Lon}} - {{stops.Lat}}</li> to show on map -->
               </ul>
        </mat-tab>
      </mat-tab-group>






      </div>
    </div>

  </mat-expansion-panel>
</mat-accordion>
<mat-paginator [pageSize]="pageSize" [pageIndex]="pageIndex" [pageSizeOptions]="pageSizeOptions" [length]="($$routes|async)?.length" (page)="pageChange($event);"></mat-paginator>
</div>

