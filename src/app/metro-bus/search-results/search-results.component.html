
<div>
  <div *ngIf="($$routes|async).length<=0">
      <mat-spinner></mat-spinner>
  </div>
<mat-accordion *ngIf="($$routes|async).length>0">
  <mat-expansion-panel *ngFor="let route of ($$routes|async)|slice:lowerLimit:higherLimit; let i= index" (opened)="onOpened(route.RouteID)">
    <mat-expansion-panel-header >
      <mat-panel-title>
       {{route.RouteID}}
      </mat-panel-title>
      <mat-panel-description>
        {{route.Name}}
      </mat-panel-description>
    </mat-expansion-panel-header>
    <div>
    <div>
    <h4>{{($$routeDetails|async)?.Direction0.DirectionText}} TO {{($$routeDetails|async)?.Direction0.TripHeadsign}}</h4>

      <ul *ngFor="let stops of ($$routeDetails|async)?.Direction0.Stops" [style.list-style-type]="'none'">
       <button class="btn btn-primary" (click)="onAddFav(stops)">Add To Favorites </button>
       <li>Stop: {{stops.StopID}} - {{stops.Name}}</li>
        <li>Position: {{stops.Lon}} - {{stops.Lat}}</li>
      </ul>


    <h4>{{($$routeDetails|async)?.Direction1.DirectionText}} TO {{($$routeDetails|async)?.Direction1.TripHeadsign}} </h4>

    <ul *ngFor="let stops of ($$routeDetails|async)?.Direction1.Stops" [style.list-style-type]="'none'">
        <button class="btn btn-primary" (click)="onAddFav(stops)">Add To Favorites</button>
        <li>Stop: {{stops.StopID}} - {{stops.Name}}</li>
        <li>Position: {{stops.Lon}} - {{stops.Lat}}</li>
       </ul>
      </div>
    </div>

  </mat-expansion-panel>
</mat-accordion>
<mat-paginator [pageSize]="pageSize" [pageIndex]="pageIndex" [pageSizeOptions]="pageSizeOptions" [length]="($$routes|async)?.length" (page)="pageChange($event);"></mat-paginator>
</div>

